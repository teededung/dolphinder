---
import MainLayout from "../components/MainLayout.astro";
import ShowcaseGrid from "../components/showcase/ShowcaseGrid";
import { createSupabaseServerClient } from "../lib/supabase/serverClient";
import { aggregateAllProjects } from "../lib/showcase";

export const prerender = false;

// Aggregate all projects from verified developers
const supabase = createSupabaseServerClient(Astro.cookies);
const allProjects = await aggregateAllProjects(supabase);
---

<MainLayout title="Project Showcase">
  <ShowcaseGrid projects={allProjects} client:load />
</MainLayout>
